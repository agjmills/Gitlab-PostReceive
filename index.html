<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Gitlab-PostReceive by agjmills</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/agjmills/Gitlab-PostRecieve">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/agjmills/Gitlab-PostRecieve/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/agjmills/Gitlab-PostRecieve/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Gitlab-PostReceive</h1>
          <p>A server that allows you to automatically deploy the latest version of your Gitlab project at each git push</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/agjmills">agjmills</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <p><img src="http://agjmills.github.io/Gitlab-PostReceive/images/gitlab-postreceive.jpg" alt="diagram"></p>

<h3>
<a name="what-is-it" class="anchor" href="#what-is-it"><span class="octicon octicon-link"></span></a>What is it?</h3>

<p>This is a small HTTP server written in python. 
It allows you to have a version of your project installed, that will be updated automatically on each Gitlab push.</p>

<p>To set it up, do the following:</p>

<ul>
<li>install python</li>
<li>copy the gitlab-postreceive.json.example to gitlab-postreceive.json. This file will be gitignored and can be environment specific.</li>
<li>enter the relevant information for your project(s) in the gitlab-postreceive.json file</li>
<li>start the server by typing “python GitlabPostReceive.py”</li>
<li>to run it as a deamon add ==--deamon-mode==</li>
<li>On the Github page go to a repository, then "Admin", "Service Hooks", 
"Post-Receive URLs" and add the url of your machine + port (e.g. <a href="http://example.com:8001">http://example.com:8001</a>).</li>
</ul><p>You can even test the whole thing here, by clicking on the "Test Hook" button, whohoo!</p>

<h3>
<a name="how-this-works" class="anchor" href="#how-this-works"><span class="octicon octicon-link"></span></a>How this works</h3>

<p>When someone pushes changes into Gitlab, it sends a json file to the service hook url. 
It contains information about the repository that was updated.</p>

<p>All it really does is match the repository urls to your local repository paths in the config file, 
move there and run "git pull".</p>

<p>Additionally it runs a deploy bash command that you can add to the config file optionally.
Make sure that you start the server as the user that is allowed to pull from the github repository.</p>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
